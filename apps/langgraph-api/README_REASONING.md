# üß† –†–∞—Å—Å—É–∂–¥–∞—é—â–∏–π AI –ê–≥–µ–Ω—Ç –Ω–∞ LangGraph

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–Ω–æ–≥–æ—à–∞–≥–æ–≤–æ–≥–æ —Ä–∞—Å—Å—É–∂–¥–∞—é—â–µ–≥–æ AI –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ—à–∞–≥–æ–≤–æ.

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ü—Ä–æ—Å—Ç–æ–π –∞–≥–µ–Ω—Ç (ReAct –ø–∞—Ç—Ç–µ—Ä–Ω):
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚ö†Ô∏è –ù–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ö†Ô∏è –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

### –†–∞—Å—Å—É–∂–¥–∞—é—â–∏–π –∞–≥–µ–Ω—Ç (Chain-of-Thought + Planning):
- üß† **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–µ—Ç –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
- üí≠ **–†–∞–∑–º—ã—à–ª–µ–Ω–∏—è**: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- üìù **–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π
- üéØ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**: –ú–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω –ø–æ —Ö–æ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- üîÑ **–ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –î–æ 10 —à–∞–≥–æ–≤ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ó–∞–ø—Ä–æ—Å ‚Üí –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –†–∞–∑–º—ã—à–ª–µ–Ω–∏—è ‚Üí –ê–≥–µ–Ω—Ç ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí –†–∞–∑–º—ã—à–ª–µ–Ω–∏—è ‚Üí –û—Ç–≤–µ—Ç
          ‚Üë______________________________________________|
```

### –£–∑–ª—ã –≥—Ä–∞—Ñ–∞:
1. **Plan Node**: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –∏ —Å–æ–∑–¥–∞–µ—Ç –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π
2. **Think Node**: –†–∞–∑–º—ã—à–ª—è–µ—Ç –æ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–∞—Ö  
3. **Agent Node**: –û—Å–Ω–æ–≤–Ω–æ–π —É–∑–µ–ª –∞–≥–µ–Ω—Ç–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
4. **Tools Node**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

## üöÄ –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Ä–∞—Å—Å—É–∂–¥–∞—é—â–µ–≥–æ –∞–≥–µ–Ω—Ç–∞
```bash
cd /home/turbo/apps/langgraph-api
python -m app.reasoning_server
```
–î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8001

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
```bash
cd /home/turbo/apps/langgraph-api  
python reasoning_example.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
–î–æ–±–∞–≤—å—Ç–µ –≤ `server.py`:
```python
from .langgraph.reasoning_agent import reasoning_agent_graph
add_langgraph_route(app, reasoning_agent_graph, "/api/reasoning-chat")
```

## üì° API Endpoints

### –†–∞—Å—Å—É–∂–¥–∞—é—â–∏–π –∞–≥–µ–Ω—Ç
```http
POST /api/reasoning-chat
Content-Type: application/json

{
  "system": "–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º...",
  "messages": [
    {
      "role": "user",
      "content": [
        {"type": "text", "text": "–ù–∞–π–¥–∏ STM32 –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ä—ã–Ω–æ–∫ ST Microelectronics"}
      ]
    }
  ],
  "tools": []
}
```

### –ü—Ä–æ—Å—Ç–æ–π –∞–≥–µ–Ω—Ç (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
```http
POST /api/simple-chat
# –¢–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
```

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞
```json
{
  "system": "–¢—ã –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ø–æ–∏—Å–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤",
  "messages": [
    {
      "role": "user", 
      "content": [{"type": "text", "text": "–ù–∞–π–¥–∏ —Ä–µ–∑–∏—Å—Ç–æ—Ä 10–∫–û–º"}]
    }
  ]
}
```

### –°–ª–æ–∂–Ω–∞—è –º–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è –∑–∞–¥–∞—á–∞
```json
{
  "system": "–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–µ –∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º",
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text", 
          "text": "–ú–Ω–µ –Ω—É–∂–µ–Ω –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è IoT –ø—Ä–æ–µ–∫—Ç–∞ —Å –Ω–∏–∑–∫–∏–º —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º. –ù–∞–π–¥–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π, —Å—Ä–∞–≤–Ω–∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –¥–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏."
        }
      ]
    }
  ]
}
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è

–í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∞–≥–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

```python
{
  "messages": [...],
  "plan": [],           # –ü–ª–∞–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  "current_step": 0,    # –¢–µ–∫—É—â–∏–π —à–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  "goal": "",           # –¶–µ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  "reasoning_history": [], # –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π
  "max_steps": 10       # –ú–∞–∫—Å–∏–º—É–º —à–∞–≥–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
}
```

## üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞**: –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á–∏
2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è  
3. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤**:
   - `think` - —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑
   - `use_tool` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
   - `respond` - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
4. **–ê–¥–∞–ø—Ç–∞—Ü–∏—è**: –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–ª–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
5. **–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç**: –û–±–æ–≥–∞—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –æ—Ç–≤–µ—Ç

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–∞—Å—Å—É–∂–¥–∞—é—â–µ–≥–æ –∞–≥–µ–Ω—Ç–∞

- **–ë–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–º–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —à–∞–≥–∏
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç —Ö–∞–æ—Ç–∏—á–Ω–æ
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ —Ö–æ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. **Structured Output**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å structured output –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–ª–∞–Ω–æ–≤
2. **–ü–∞–º—è—Ç—å –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏**: –î–æ–±–∞–≤–∏—Ç—å –≤–Ω–µ—à–Ω—é—é –ø–∞–º—è—Ç—å –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞  
3. **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–ª–∞–Ω–æ–≤
4. **UI –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π
5. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å—Ç–∏–ª—è —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ü—Ä–æ—Å—Ç–æ–π –∞–≥–µ–Ω—Ç | –†–∞—Å—Å—É–∂–¥–∞—é—â–∏–π –∞–≥–µ–Ω—Ç |
|----------|---------------|-------------------|
| –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ | ‚ö° –ë—ã—Å—Ç—Ä–æ | üêå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ |
| –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á–∞—Ö | ‚úÖ –•–æ—Ä–æ—à–æ | ‚úÖ –•–æ—Ä–æ—à–æ |
| –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ | üåü –û—Ç–ª–∏—á–Ω–æ |
| –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π | ‚ùå –ù–∏–∑–∫–∞—è | ‚úÖ –í—ã—Å–æ–∫–∞—è |
| –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ | üí∞ –≠–∫–æ–Ω–æ–º–∏—á–Ω–æ | üí∏ –ë–æ–ª—å—à–µ |

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

–ê–≥–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:
- –û—Ç–ª–∞–¥–∫–∏ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–±—É—á–µ–Ω–∏—è –Ω–∞ —É—Å–ø–µ—à–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö
